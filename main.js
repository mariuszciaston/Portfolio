(()=>{"use strict";const e=[{hrefWebp:"mocap/mocap-1-2560.webp",href:"mocap/mocap-1-2560.jpg",imgSrc:"mocap/mocap-1.jpg",title:"mocap image 1"},{hrefWebp:"mocap/mocap-2-2560.webp",href:"mocap/mocap-2-2560.jpg",imgSrc:"mocap/mocap-2.jpg",title:"mocap image 2"},{hrefWebp:"mocap/mocap-3-2560.webp",href:"mocap/mocap-3-2560.jpg",imgSrc:"mocap/mocap-3.jpg",title:"mocap image 3"},{hrefWebp:"mocap/mocap-4-2560.webp",href:"mocap/mocap-4-2560.jpg",imgSrc:"mocap/mocap-4.jpg",title:"mocap image 4"},{hrefWebp:"mocap/mocap-5-2560.webp",href:"mocap/mocap-5-2560.jpg",imgSrc:"mocap/mocap-5.jpg",title:"mocap image 5"},{iframeSrc:"https://www.youtube.com/embed/C-MedZPyLog?si=bJ5w_yK_ckT8XVFv"},{iframeSrc:"https://www.youtube.com/embed/LtybBucgNmI?si=0WuRXA3Aj1RNBdCM"},{iframeSrc:"https://www.youtube.com/embed/btZNWk0gGd4?si=LPYkdopqCibfIml5"},{iframeSrc:"https://www.youtube.com/embed/ozqPbTbIxMs?si=tglL0KkauTrHXJKO"},{iframeSrc:"https://www.youtube.com/embed/7TioWVaoksQ?si=_ZAvdA3bT73ygp7b"},{iframeSrc:"https://www.youtube.com/embed/ev983G6xkdE?si=T_TCLi2h3_s3Rbbv"},{iframeSrc:"https://www.youtube.com/embed/ZAZwuitd4_8?si=IcKpuSrWjHsyfBX3"}],t=[{iframeSrc:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1822538817&color=%23000000&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&visual=true",title:"Strasznie",year:"2016",description:"experimental electronic"},{iframeSrc:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1822538397&color=%23000000&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&visual=true",title:"Nightmare",year:"2012",description:"dark dubstep"},{iframeSrc:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1822538145&color=%23000000&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&visual=true",title:"You Like It Remix",year:"2008",description:"electro house"},{iframeSrc:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1822537608&color=%23000000&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&visual=true",title:"Friday Night",year:"2006",description:"tribal techno"}],a=[{hrefWebp:"graphics/Candis-Konopie-2022-Zielona-Ulotka-DL-2560.webp",href:"graphics/Candis-Konopie-2022-Zielona-Ulotka-DL-2560.png",imgSrc:"graphics/Candis-Konopie-2022-Zielona-Ulotka-DL.png",title:"Candis",year:"2022",description:"DL flyer"},{hrefWebp:"graphics/Uzaleznienia-Behawioralne-2018-Batorego-Ulotka-DL-2560.webp",href:"graphics/Uzaleznienia-Behawioralne-2018-Batorego-Ulotka-DL-2560.png",imgSrc:"graphics/Uzaleznienia-Behawioralne-2018-Batorego-Ulotka-DL.png",title:"Uzależnienia Behawioralne",year:"2018",description:"DL flyer"},{hrefWebp:"graphics/Candis-Konopie-2021-Czarna-Ulotka-DL-2560.webp",href:"graphics/Candis-Konopie-2021-Czarna-Ulotka-DL-2560.png",imgSrc:"graphics/Candis-Konopie-2021-Czarna-Ulotka-DL.png",title:"Candis",year:"2021",description:"DL flyer"},{hrefWebp:"graphics/Uzaleznienia-Behawioralne-2019-Batorego-Ulotka-DL-2560.webp",href:"graphics/Uzaleznienia-Behawioralne-2019-Batorego-Ulotka-DL-2560.png",imgSrc:"graphics/Uzaleznienia-Behawioralne-2019-Batorego-Ulotka-DL.png",title:"Uzależnienia Behawioralne",year:"2019",description:"DL flyer"}],r=[278,384,480,556,768,960,1088],i="(max-width: 575px) calc(100vw - 6rem), (max-width: 671px) calc(100vw - 8rem), (max-width: 991px) calc((100vw - 14rem) / 2), (max-width: 1151px) calc((100vw - 20rem) / 3), calc((min(100vw, 2560px) - 26rem) / 4)";function o(e,t){return e.map((e,a)=>{if("webdev"===t||"mocap"===t&&!e.iframeSrc||"graphics"===t){let r="";return"mocap"!==t&&(r=`<div class="text"><p class="bold">${e.title}</p><p class="secondary">${e.description} | ${e.year}</p></div>`),`<div class="item-container-wrap"><div class="item-container" data-rendered="false" data-project='${JSON.stringify(e)}' data-type="${t}" data-index="${a}"><a class="item"><div class="img-container"></div>${r}</a></div></div>`}return"mocap"===t&&e.iframeSrc||"music"===t?`<div class="item-container" data-rendered="false" data-project='${JSON.stringify(e)}' data-type="${t}" data-index="${a}"></div>`:void 0}).join("")}function s(e){var t;const a=JSON.parse(e.dataset.project),o=e.dataset.type,s='loading="lazy"';if("webdev"===o||"mocap"===o&&!a.iframeSrc||"graphics"===o){const c=null===(t=a.imgSrc)||void 0===t?void 0:t.replace(".png","").replace(".jpg","").replace(`${o}/`,""),n="mocap"===o?"jpg":"png",l=r.map(e=>`${o}/${c}-${e}.webp ${e}w`).join(", "),d=r.map(e=>`${o}/${c}-${e}.${n} ${e}w`).join(", ");let m="";return"mocap"!==o&&(m=`\n\t\t\t<div class="text">\n\t\t\t\t<p class="bold">${a.title}</p>\n\t\t\t\t<p class="secondary">${a.description} | ${a.year}</p>\n\t\t\t</div>\n\t\t`),void(e.innerHTML="mocap"===o||"graphics"===o?`\n\t\t\t\t<div class="item">\n\t\t\t\t\t<div class="img-container">\n\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t<source srcset="${l}" sizes="${i}" type="image/webp">\n\t\t\t\t\t\t\t<source srcset="${d}" sizes="${i}" type="image/${n}">\n\t\t\t\t\t\t\t<img src="${a.imgSrc}" alt="${a.title}" data-lightbox="${o}" data-full="${a.hrefWebp||a.href}" ${s} onerror="this.onerror=null; this.src='img/placeholder.png'; this.fetchPriority='high'">\n\t\t\t\t\t\t</picture>\n\t\t\t\t\t</div>\n\t\t\t\t\t${m}\n\t\t\t\t</div>\n\t\t\t`:`\n\t\t\t\t<a href="${a.hrefWebp||a.href}" target="_blank" class="item">\n\t\t\t\t\t<div class="img-container">\n\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t<source srcset="${l}" sizes="${i}" type="image/webp">\n\t\t\t\t\t\t\t<source srcset="${d}" sizes="${i}" type="image/${n}">\n\t\t\t\t\t\t\t<img src="${a.imgSrc}" alt="${a.title}" ${s} onerror="this.onerror=null; this.src='img/placeholder.png'; this.fetchPriority='high'">\n\t\t\t\t\t\t</picture>\n\t\t\t\t\t</div>\n\t\t\t\t\t${m}\n\t\t\t\t</a>\n\t\t\t`)}"mocap"===o&&a.iframeSrc?e.innerHTML=`\n\t\t\t<div class="item">\n\t\t\t\t<iframe ${s} style="aspect-ratio: 4 / 3; width: 100%; height: auto; border-radius: 1rem;  box-sizing: border-box;" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen src="${a.iframeSrc}"></iframe>\n\t\t\t</div>\n\t\t`:"music"!==o||(e.innerHTML=`\n\t\t\t<div class="item">\n\t\t\t\t<iframe ${s} width="100%" scrolling="no" frameborder="no" allow="autoplay" style="border-radius: 1rem;" title="SoundCloud music player" src="${a.iframeSrc}"></iframe>\n\t\t\t\t<div class="text">\n\t\t\t\t\t<p class="bold">${a.title}</p>\n\t\t\t\t\t<p class="secondary"> ${a.description} | ${a.year}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`)}const c=document.querySelector("#theme-switch .fa-moon"),n=document.querySelector("#theme-switch .fa-sun");function l(){"theme-dark"===document.documentElement.className?(document.documentElement.className="theme-light",c.classList.remove("hide"),n.classList.add("hide")):(document.documentElement.className="theme-dark",c.classList.add("hide"),n.classList.remove("hide"))}function d(e){if("true"===e.dataset.has3d)return;const t=e.querySelector(".item");t.querySelector("iframe")||(e.dataset.has3d="true",e.addEventListener("mousemove",a=>{t.classList.remove("leaving");const r=e.getBoundingClientRect(),i=a.clientX-r.left,o=a.clientY-r.top,s=r.width/2,c=r.height/2,n=(i-s)/s*5,l=-(o-c)/c*5;t.style.transform=`perspective(var(--perspective)) rotateX(${l}deg) rotateY(${n}deg)`}),e.addEventListener("mouseleave",()=>{t.classList.add("leaving"),t.style.transform="perspective(var(--perspective)) rotateX(0) rotateY(0)",setTimeout(()=>{t.classList.remove("leaving")},1e3)}))}function m(){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const a=t.target;"false"===a.dataset.rendered&&(s(a),a.dataset.rendered="true",e.unobserve(a),d(a))}})},{rootMargin:"0px"});document.querySelectorAll('.item-container[data-rendered="false"]').forEach(t=>{e.observe(t)})}const p=document.getElementById("lightbox"),u=document.getElementById("lightbox-img"),h=document.getElementById("lightbox-close"),g=document.getElementById("lightbox-prev"),f=document.getElementById("lightbox-next");let w=[],y=0,v=null;const b=new Map;function L(e){v&&(v.onload=null);const t=document.querySelector(`img[data-full="${e}"]`),a=t.currentSrc||t.src;if(u.src=a,b.has(e))return void(u.src=e);const r=new Image;v=r,r.onload=()=>{v===r&&(b.set(e,r),u.src=e)},r.src=e}function S(){p.classList.remove("active"),document.body.style.overflow=""}function $(){y=(y-1+w.length)%w.length,L(w[y])}function k(){y=(y+1)%w.length,L(w[y])}function E(){document.addEventListener("click",e=>{const t=e.target.closest(".item");if(t&&!t.hasAttribute("href")){const o=t.querySelector("img[data-lightbox]");if(o){e.preventDefault();const t=o.dataset.lightbox;!function(e){document.querySelectorAll(`.item-container[data-rendered="false"][data-type="${e}"]`).forEach(e=>{s(e),e.dataset.rendered="true"})}(t);const c=Array.from(document.querySelectorAll(`img[data-lightbox="${t}"]`)),n=c.map(e=>e.dataset.full||e.src),l=c.indexOf(o);a=o.dataset.full||o.src,r=n,i=l,L(a),w=r,y=i,p.classList.add("active"),document.body.style.overflow="hidden",r.length<=1?(g.classList.add("hidden"),f.classList.add("hidden")):(g.classList.remove("hidden"),f.classList.remove("hidden"))}}var a,r,i})}document.addEventListener("DOMContentLoaded",()=>{var r,i;window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.className="theme-dark",c.classList.add("hide"),n.classList.remove("hide")):(document.documentElement.className="theme-light",c.classList.remove("hide"),n.classList.add("hide")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?(document.documentElement.className="theme-dark",c.classList.add("hide"),n.classList.remove("hide")):(document.documentElement.className="theme-light",c.classList.remove("hide"),n.classList.add("hide"))}),null===(r=document.querySelector("#theme-switch"))||void 0===r||r.addEventListener("click",l),function(){const e=document.querySelector("#grayscale-switch > svg");null==e||e.addEventListener("click",()=>{e.classList.toggle("flip"),document.querySelectorAll(".grid-container").forEach(e=>{e.classList.toggle("grayscale")})})}(),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(document.querySelector("header").style.overflow="visible",document.querySelector("main").style.overflow="visible"),null===(i=document.querySelector("#heading h1"))||void 0===i||i.addEventListener("click",()=>window.location.reload()),document.querySelectorAll('.item-container[data-rendered="true"]:not([data-has3d])').forEach(e=>{d(e)}),m();let s=!1,u=!1,w=!1;document.querySelectorAll("section h2").forEach(r=>{r.addEventListener("click",()=>{r.parentElement.classList.toggle("hidden"),"second"!==r.parentElement.id||s||(document.querySelector(".grid-container.mocap").innerHTML=o(e,"mocap"),s=!0,m()),"third"!==r.parentElement.id||u||(document.querySelector(".grid-container.music").innerHTML=o(t,"music"),u=!0,m()),"fourth"!==r.parentElement.id||w||(document.querySelector(".grid-container.graphics").innerHTML=o(a,"graphics"),w=!0,m())})}),h.addEventListener("click",S),g.addEventListener("click",$),f.addEventListener("click",k),p.addEventListener("click",e=>{e.target===p&&S()}),document.addEventListener("keydown",e=>{p.classList.contains("active")&&("Escape"===e.key&&S(),"ArrowLeft"===e.key&&$(),"ArrowRight"===e.key&&k())}),E(),setTimeout(()=>{const e="G-L4NJKX8FMC",t=document.createElement("script");function a(...e){window.dataLayer.push(e)}t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=a,a("js",new Date),a("config",e)},4e3)})})();